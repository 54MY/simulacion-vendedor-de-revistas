<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulacion de Vendedor de Revistas</title>

    <link rel="stylesheet" href="css/estilos.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <script src="https://rawgit.com/eKoopmans/html2pdf/master/dist/html2pdf.bundle.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.css">
    <link href="//cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.0/bootstrap3-editable/css/bootstrap-editable.css"
        rel="stylesheet" />
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.css">

</head>

<body>
    <div class="m-0 vh-100 row justify-content-center">
        <div class="col-auto p-5 text-center">
            <h1 class="text-white font-weight-bold">Simulación de Vendedor de Revistas</h1>
            <br>
            <form id="simulation-form">
                <p class="font-italic">Un vendedor de revistas compra mensualmente una revista el día primero de cada
                    mes. El
                    costo de cada ejemplar es de Bs. 1.50. La demanda de esta revista en los primeros 10 dias
                    del mes sigue la siguiente distribución de probabilidad:</p>
                <table class="table table-striped table-bordered" id="tabla1">
                    <thead>
                        <tr>
                            <th scope="row">Demanda</th>
                            <td><a href="#" data-type="number" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">5</a></td>
                            <td><a href="#" data-type="number" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">6</a></td>
                            <td><a href="#" data-type="number" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">7</a></td>
                            <td><a href="#" data-type="number" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">8</a></td>
                            <td><a href="#" data-type="number" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">9</a></td>
                            <td><a href="#" data-type="number" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">10</a></td>
                            <td><a href="#" data-type="number" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">11</a></td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th scope="row">probabilidad</th>
                            <td><a href="#" data-type="number" step="0.01" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">0.05</a></td>
                            <td><a href="#" data-type="number" step="0.01" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">0.05</a></td>
                            <td><a href="#" data-type="number" step="0.01" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">0.10</a></td>
                            <td><a href="#" data-type="number" step="0.01" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">0.15</a></td>
                            <td><a href="#" data-type="number" step="0.01" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">0.25</a></td>
                            <td><a href="#" data-type="number" step="0.01" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">0.25</a></td>
                            <td><a href="#" data-type="number" step="0.01" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">0.15</a></td>
                        </tr>
                    </tbody>
                </table>
                <p class="font-italic">Al final del décimo día, el vendedor puede regresar cualquier cantidad al
                    proveedor, quien
                    se las pagará a Bs. 0.90 el ejemplar, o comprar más a Bs. 1.20 el ejemplar. La demanda en
                    los siguientes 20 días está dada por la siguiente distribución de probabilidad:</p>

                <table class="table table-striped table-bordered" id="tabla2">
                    <thead>
                        <tr>
                            <th scope="row">Demanda</th>
                            <td><a href="#" data-type="number" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">4</a></td>
                            <td><a href="#" data-type="number" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">5</a></td>
                            <td><a href="#" data-type="number" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">6</a></td>
                            <td><a href="#" data-type="number" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">7</a></td>
                            <td><a href="#" data-type="number" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">8</a></td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th scope="row">probabilidad</th>
                            <td><a href="#" data-type="number" step="0.01" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">0.15</a></td>
                            <td><a href="#" data-type="number" step="0.01" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">0.20</a></td>
                            <td><a href="#" data-type="number" step="0.01" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">0.30</a></td>
                            <td><a href="#" data-type="number" step="0.01" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">0.20</a></td>
                            <td><a href="#" data-type="number" step="0.01" data-pk="1"
                                    class="editable editable-click editable-empty macAddr" data-abc="true">0.15</a></td>
                        </tr>
                    </tbody>
                </table>
                <p class="font-italic">Al final del mes, el vendedor puede regresar al proveedor las revistas que le
                    sobren, las
                    cuales se le pagarán a Bs. 0.60 el ejemplar. Finalmente, se asume que después de un mes
                    ya no existe demanda por parte del público, puesto que para ese entonces ya habrá
                    aparecido el nuevo número de la revista. Si el precio al público es de Bs. 2.‐ por ejemplar,
                    determine la política óptima de compra.</p>

                <hr>
                <button type="button" class="btn btn-primary" id="simulate-acumulada">Generar Simulación</button>
                <button onclick="recargarPagina()" type="button" class="btn btn-secondary invisible" id="reiniciar">Volver
                    a iniciar</button>
            </form>
            <br>
            <div class="container">
                <div class="row">
                    <div class="col-6" id="acumulada-1"></div>
                    <div class="col-1"></div>
                    <div class="col-5" id="acumulada-2"></div>
                </div>
                <br>
                <div class="row">
                    <div class="col-12" id="barras-container"></div>
                </div>
                <br>
                <div class="row">
                    <div class="col-12" id="simulacion"></div>
                </div>
            </div>
            <br>
            <form id="simulation-form">
                <div class="form-group row">
                    <label class="col-sm-4 col-form-label" for="numDias">Numero de Días:</label>
                    <div class="col-sm-8">
                        <input class="form-control" type="number" id="numDias" name="numDias" value="10">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-4 col-form-label" for="horasTrabajo">Horas de Trabajo (Hrs.):</label>
                    <div class="col-sm-8">
                        <input class="form-control" type="number" id="horasTrabajo" name="horasTrabajo" value="8">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-4 col-form-label" for="precioRevista">Precio de venta (Bs.):</label>
                    <div class="col-sm-8">
                        <input class="form-control" type="number" id="precioRevista" name="precioRevista" step="0.01"
                            value="2.5">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-4 col-form-label" for="probabilidades">Probabilidades acumuladas (separadas por
                        comas):</label>
                    <div class="col-sm-8">
                        <input class="form-control" type="text" id="probabilidades" name="probabilidades"
                            value="0.1,0.3,0.6,0.9,1.0">
                    </div>
                </div>
                <button type="button" class="btn btn-primary" id="simulate-button" data-toggle="modal"
                    data-target="#exampleModal">Simular</button>
            </form>
            </br>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel"><button type="button" class="btn btn-primary"
                            onclick="exportarAPDF()">Exportar a
                            PDF</button></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="resultado">
                        <h5 class="font-weight-bold">Resultado de la simulación</h5>
                        <hr>
                        <div id="chart-container"></div>
                        <hr>
                        <div class="results" id="results"></div>
                    </div>
                </div>
                <div class="modal-footer">
                    <p class="font-italic">La simulación de sistemas es una herramienta valiosa para comprender,
                        analizar y mejorar el
                        rendimiento de sistemas complejos en diversos campos, al permitir la exploración y
                        experimentación en entornos virtuales controlados.</p>
                </div>
            </div>
        </div>
    </div>
    <script src="js/simulacion.js"></script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script>
        function exportarAPDF() {
            var element = document.getElementById('resultado');
            html2pdf().set({
                margin: 1,
                filename: 'docuemtno.pdf',
                image: {
                    type: 'jpeg',
                    quality: 0.98
                },
                html2canvas: {
                    scale: 3,
                    letterRendering: true,
                },
                jsPDF: {
                    unit: "in",
                    format: "a3",
                    orientation: 'portrait'
                }
            })
                .from(element)
                .save()
                .catch(err => console.log(err))
                .finally()
                .then(() => {
                    console.log("Guardado!!!")
                });
        }
    </script>

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.js"></script>
    <script
        src="//cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.0/bootstrap3-editable/js/bootstrap-editable.min.js"></script>
    <script>
        $(function () {
            $('#table').bootstrapTable()
            $.fn.editable.defaults.mode = 'inline';
            $.fn.editableform.buttons =
                '<button type="submit" class="btn btn-primary btn-sm editable-submit">' +
                '<i class="fa fa-fw fa-check"></i>' +
                '</button>' +
                '<button type="button" class="btn btn-warning btn-sm editable-cancel">' +
                '<i class="fa fa-fw fa-times"></i>' +
                '</button>';
            $(".macAddr").each(function () {
                $(this).editable({
                    mode: 'inline',
                    type: 'number',
                });
            })
        })
    </script>
    <script>
        function recargarPagina() {
            location.reload();
        }
    </script>
</body>

</html>